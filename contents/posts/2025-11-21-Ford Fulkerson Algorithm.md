# Ford-Fulkerson Algorithm
## **åŸºç¡€çŸ¥è¯†**
- **å®šä¹‰**
  - Ford-Fulkerson æ–¹æ³•æ˜¯ä¸€ç§ç”¨äºåœ¨å®¹é‡ç½‘ç»œä¸­è®¡ç®—ä»æºç‚¹åˆ°æ±‡ç‚¹çš„æœ€å¤§æµçš„ç®—æ³•ã€‚
## **æ³¨æ„äº‹é¡¹**
1. **æ··æ·†ç‚¹**
- **æ ¸å¿ƒæœºåˆ¶è¡¨**

|æœºåˆ¶	|ä½œç”¨	|å®ç°æ–¹å¼|
---|---|---
|å‰©ä½™å›¾	|ç®—æ³•çš„å·¥ä½œåœ°å›¾|	åŠ¨æ€è·Ÿè¸ªæ¯æ¡è¾¹è¿˜èƒ½èµ°å¤šå°‘æµé‡|
|åå‘è¾¹|å…è®¸æµé‡é‡æ–°åˆ†é…|	æ­£å‘è¾¹å‡å¤šå°‘ï¼Œåå‘è¾¹å°±åŠ å¤šå°‘|
|BFSå¯»è·¯|	ç³»ç»Ÿæ€§æ¢ç´¢æ‰€æœ‰å¯èƒ½	|æ‰¾æœ€çŸ­å¢å¹¿è·¯å¾„ï¼Œé¿å…é™·å…¥æ¬¡ä¼˜|
|å®¹é‡æ›´æ–°	|åæ˜ å½“å‰ç½‘ç»œçŠ¶æ€	|æ¯æ¬¡å¢å¹¿åæ›´æ–°æ­£å‘å’Œåå‘å®¹é‡|

- **æœ€å¤§æµæœ€å°å‰²å®šç†**
  - åœ¨ä»»ä½•æµç½‘ç»œä¸­ï¼Œä»æºç‚¹såˆ°æ±‡ç‚¹tçš„æœ€å¤§æµé‡å€¼ï¼Œç­‰äºåˆ†ç¦»så’Œtçš„æœ€å°å‰²çš„å®¹é‡:æœ€å¤§æµ = æœ€å°å‰²å®¹é‡
  - æœ€å°å‰²æ˜¯ç½‘ç»œçš„ç“¶é¢ˆ,å†³å®šäº†æ•´ä¸ªç³»ç»Ÿçš„æœ€å¤§æµé‡;ç®—æ³•åœ¨æ‰¾åˆ°æœ€å¤§æµçš„åŒæ—¶ï¼Œä¹Ÿæ‰¾åˆ°äº†ç½‘ç»œçš„ç“¶é¢ˆæ‰€åœ¨
    - å¼•ç†1ï¼šä»»æ„æµå€¼ â‰¤ ä»»æ„å‰²å®¹é‡:
        - å¯¹äºä»»æ„å‰² $(S,T)$ å’Œä»»æ„æµ $f$ï¼š
        - æµå€¼=âˆ‘uâˆˆS,vâˆˆTf(u,v)âˆ’âˆ‘uâˆˆT,vâˆˆSf(u,v)â‰¤âˆ‘uâˆˆS,vâˆˆTc(u,v)=å‰²å®¹é‡æµå€¼=âˆ‘uâˆˆS,vâˆˆTâ€‹f(u,v)âˆ’âˆ‘uâˆˆT,vâˆˆSâ€‹f(u,v)â‰¤âˆ‘uâˆˆS,vâˆˆTâ€‹c(u,v)=å‰²å®¹é‡
    - å¼•ç†2ï¼šæœ€å¤§æµå­˜åœ¨æ—¶ï¼Œå­˜åœ¨ç­‰å€¼çš„æœ€å°å‰²
        - å½“Ford-Fulkersonç®—æ³•ç»ˆæ­¢æ—¶ï¼šFord-Fulkersonç»ˆæ­¢æ—¶è‡ªåŠ¨æ‰¾åˆ°æœ€å°å‰²    
        - åœ¨å‰©ä½™å›¾ $G_f$ ä¸­ï¼Œä» $s$ å¯è¾¾çš„é¡¶ç‚¹é›†åˆä¸º $S$,$T = V - S$ æ„æˆä¸€ä¸ªå‰²,è¿™ä¸ªå‰²çš„å®¹é‡æ­£å¥½ç­‰äºæœ€å¤§æµå€¼

  - å‰²:
    - ä¸€ä¸ªå‰²æ˜¯äºŒå…ƒç»„ (S', T')ï¼Œå…¶ä¸­ï¼šS' åŒ…å«æºç‚¹S,T' åŒ…å«æ±‡ç‚¹T,S' âˆª T' = æ‰€æœ‰èŠ‚ç‚¹,S' âˆ© T' = âˆ…å‰²çš„å®¹é‡ = æ‰€æœ‰ä»S'æŒ‡å‘T'çš„è¾¹çš„å®¹é‡å’Œ
    - å‰²æ˜¯æŠŠæ‰€æœ‰èŠ‚ç‚¹åˆ†æˆä¸¤ä¸ªé›†åˆï¼šåŒ…å«Sçš„é›†åˆ å’Œ åŒ…å«Tçš„é›†åˆï¼Œç„¶åè®¡ç®—ä»Sé›†åˆåˆ°Té›†åˆçš„æ‰€æœ‰è¾¹çš„å®¹é‡å’Œ
    - é€‰æ‹©ä¸€ç»„è¾¹ï¼Œä½¿å¾—åˆ é™¤è¿™äº›è¾¹åï¼Œä»Såˆ°Tæ²¡æœ‰ä»»ä½•è·¯å¾„
    - å‰²æ˜¯ä»»æ„çš„èŠ‚ç‚¹åˆ’åˆ†ï¼Œåªè¦Så’ŒTåœ¨ä¸åŒä¾§;æ¯ä¸ªå‰²éƒ½ä»£è¡¨ä¸€ç§å®Œå…¨æ–­æµçš„æ–¹æ¡ˆ;æœ€å°å‰²å°±æ˜¯ä»£ä»·æœ€å°çš„æ–­æµæ–¹æ¡ˆ;
         

2. **ä»£ç å®ç°**
```
class FlowNetwork {
    constructor() {
        this.graph = {};
    }
    
    addEdge(u, v, capacity) {
        if (!this.graph[u]) this.graph[u] = {};
        this.graph[u][v] = capacity;
        if (!this.graph[v]) this.graph[v] = {};
        if (this.graph[v][u] === undefined) {//åªåœ¨åå‘è¾¹ä¸å­˜åœ¨æ—¶åˆå§‹åŒ–ä¸º0ï¼Œé¿å…è¦†ç›–
        this.graph[v][u] = 0; //ç¡®ä¿åå‘è¾¹åˆå§‹åŒ–ä¸º0âš ï¸è¿™ä¼šè¦†ç›–å·²å­˜åœ¨çš„è¾¹ï¼è¿™é‡Œæ€»æ˜¯æŠŠåå‘è¾¹è®¾ä¸º0ï¼Œä½†åº”è¯¥æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
    }
    }
    deepCopyGraph() {
        const copy = {};
        for (const u in this.graph) {
            copy[u] = {};
            for (const v in this.graph[u]) {
                copy[u][v] = this.graph[u][v];
            }
        }
        return copy;
    }
/*
residualGraphï¼ˆå‰©ä½™å›¾ï¼‰è¡¨ç¤ºå½“å‰è¿˜èƒ½èµ°å¤šå°‘æµé‡;åŒ…å«æ­£å‘è¾¹ï¼ˆå‰©ä½™å®¹é‡ï¼‰å’Œåå‘è¾¹ï¼ˆå¯é€€å›çš„å®¹é‡ï¼‰éšç€ç®—æ³•æ‰§è¡ŒåŠ¨æ€æ›´æ–°å€¼ä¸º0çš„è¾¹è¡¨ç¤º"æ­¤è·¯ä¸é€š"
sourceï¼ˆæºç‚¹ï¼‰å°±æ˜¯æµçš„èµ·ç‚¹ï¼Œç›¸å½“äºï¼šæ°´åº“çš„æºå¤´,å¿«é€’çš„æ€»ä»“åº“,æ¶ˆæ¯çš„å‘é€è€…
sinkï¼ˆæ±‡ç‚¹ï¼‰æµçš„ç»ˆç‚¹ç›¸å½“äºï¼šæ¶ˆæ¯çš„æ¥æ”¶è€…,æ”¶å¿«é€’çš„å®¢æˆ·,ç”¨æ°´çš„åœ°æ–¹
*/
    fordFulkerson(source, sink) {
        const residual = this.deepCopyGraph();
        let maxFlow = 0;
        console.log("åˆå§‹å‰©ä½™å›¾:", JSON.stringify(residual, null, 2));
        
        while (true) {
            const parent = this.bfsFindPath(residual, source, sink);
            console.log("BFSæ‰¾åˆ°çš„parent:", parent);
            
            if (!parent) {
                console.log("æ‰¾ä¸åˆ°è·¯å¾„ï¼Œç®—æ³•ç»“æŸ");
                break;
            }
            
            let pathFlow = Infinity;
            let v = sink;
            
            // é‡å»ºè·¯å¾„å¹¶è®¡ç®—æœ€å°å®¹é‡
            const path = [sink];
            while (v !== source) {
                const u = parent[v];
                path.unshift(u);
                console.log(`è¾¹ ${u}â†’${v} å®¹é‡: ${residual[u][v]}`);
                pathFlow = Math.min(pathFlow, residual[u][v]);
                v = u;
            }
            console.log(`è·¯å¾„: ${path.join(' â†’ ')}, æœ€å°å®¹é‡: ${pathFlow}`);
            
            maxFlow += pathFlow;
            
            // æ›´æ–°å‰©ä½™å›¾
            v = sink;
            while (v !== source) {
                const u = parent[v];
                console.log(`æ›´æ–°: ${u}â†’${v}: ${residual[u][v]} - ${pathFlow} = ${residual[u][v] - pathFlow}`);
                residual[u][v] -= pathFlow;
                console.log(`æ›´æ–°åå‘: ${v}â†’${u}: ${residual[v][u]} + ${pathFlow} = ${residual[v][u] + pathFlow}`);
                residual[v][u] += pathFlow;
                v = u;
            }
            
            console.log(`å½“å‰æ€»æµé‡: ${maxFlow}`);
            console.log("æ›´æ–°åå‰©ä½™å›¾:", JSON.stringify(residual, null, 2));
            console.log("---");
        }
        
        return maxFlow;
    }
/*
ğŸ‘‰å‰©ä½™å›¾
åˆå§‹åŒ–å‰©ä½™å›¾å‰©ä½™å›¾ï¼ˆResidual Graphï¼‰ æ˜¯ç®—æ³•è¿è¡Œæ—¶çš„å·¥ä½œåœ°å›¾ï¼Œå®ƒè®°å½•ç€å½“å‰è¿˜èƒ½èµ°å¤šå°‘æµé‡ã€‚
å‰©ä½™å›¾çš„æ„æˆåŒ…å«ä¸¤ç§è¾¹ï¼šæ­£å‘è¾¹ï¼šå‰©ä½™å®¹é‡ = åŸå§‹å®¹é‡ - å·²ç”¨æµé‡;åå‘è¾¹ï¼šå®¹é‡ = å·²ç”¨æµé‡ï¼ˆè¡¨ç¤ºå¯ä»¥"é€€å›"çš„æµé‡ï¼‰ç®—æ³•ä¸çœ‹åŸå§‹å›¾ï¼Œåªçœ‹å‰©ä½™å›¾æ¥æ‰¾è·¯
ğŸ‘‰åå‘è¾¹ä¸æ˜¯ç‰©ç†é€šé“ï¼Œè€Œæ˜¯é‡æ–°åˆ†é…æƒé™çš„æ•°å­¦è®°å½•ï¼šåå‘è¾¹å°±æ˜¯"è®°å¿†+å‡æ³•"æœºåˆ¶
åå‘è¾¹å®é™…ä¸Šç»´æŠ¤äº†èŠ‚ç‚¹æµé‡å¹³è¡¡ï¼šç®—æ³•é€šè¿‡åå‘è¾¹ = åœ¨ä¿æŒæ€»é‡ä¸å˜çš„å‰æä¸‹é‡æ–°åˆ†é…,æœ€ç»ˆæ•ˆæœ = ä¸æµªè´¹ä»»ä½•å®¹é‡ï¼Œæ‰¾åˆ°å…¨å±€æœ€ä¼˜
è™šæ‹Ÿåå‘è¾¹å°±æ˜¯ä¸€ä¸ªä¼šè®¡æŠ€å·§ï¼Œä¸æ˜¯ç‰©ç†è¿æ¥å®ƒè®©ç®—æ³•èƒ½å¤Ÿåœ¨ä¸è¿åç‰©ç†å®¹é‡é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œé‡æ–°åˆ†é…å„æ¡è·¯å¾„çš„è´£ä»»ï¼Œä»è€Œæ‰¾åˆ°æ›´å¥½çš„æ•´ä½“æ–¹æ¡ˆã€‚
ğŸ‘‰æ²¡æœ‰åå‘è¾¹ = è´ªå¿ƒç®—æ³•ï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜;æœ‰åå‘è¾¹ = ç³»ç»Ÿæ€§çš„å…¨å±€æœ€ä¼˜æœç´¢
åå‘è¾¹å®¹é‡ = å®é™…å·²ä½¿ç”¨çš„æµé‡,åå‘è¾¹è¡¨ç¤ºå¯ä»¥é‡æ–°åˆ†é…çš„é‡ï¼Œä½ ä¸èƒ½é‡æ–°åˆ†é…ä½ æ ¹æœ¬æ²¡æœ‰ä½¿ç”¨è¿‡çš„å®¹é‡
åå‘è¾¹å®¹é‡ = åœ¨è¿™æ¡è·¯å¾„ä¸Šå®é™…ç”¨æ‰çš„æµé‡,ä¸èƒ½è¶…è¿‡è¾¹çš„åŸå§‹å®¹é‡,ä¸èƒ½è¶…è¿‡è¿™æ¡è·¯å¾„å®é™…è¿é€çš„æµé‡,å¿…é¡»æ˜¯çœŸå®ä½¿ç”¨è¿‡çš„é‡
åœ¨æ ‡å‡†æœ€å¤§æµä¸­ï¼Œåå‘è¾¹åªå¯¹å·²æœ‰è¾¹åˆ›å»º,åå‘è¾¹åªé’ˆå¯¹åŸå§‹å›¾ä¸­å®é™…å­˜åœ¨çš„è¾¹åˆ›å»º,å¦‚æœåŸå§‹å›¾æ²¡æœ‰Aâ†’Bè¾¹ï¼Œå°±ä¸ä¼šæœ‰Bâ†’Aåå‘è¾¹
ğŸ‘‰Ford-Fulkerson çš„æ ¸å¿ƒæ€æƒ³:Ford-Fulkerson åœ¨1956å¹´æå‡º
åå¤å¯»æ‰¾å¢å¹¿è·¯å¾„ï¼ˆAugmenting Pathï¼‰ï¼Œå¹¶æ²¿å…¶æ¨æµï¼Œç›´åˆ°æ‰¾ä¸åˆ°ä¸ºæ­¢;èƒ½å¢åˆ™å¢ï¼Œå¢æ— å¯å¢å³ä¸ºæœ€å¤§; 
Ford-Fulkerson = åœ¨å‰©ä½™å›¾ä¸­ä¸æ–­æ‰¾è·¯é€æ°´ + ç”¨åå‘è¾¹ç•™åæ‚”ä½™åœ° + æ— è·¯å¯èµ°æ—¶åœæ­¢//è‡ªåŠ¨æ‰¾åˆ°æœ€å¤§æµé‡ï¼Œä¸ç®¡ç½‘ç»œå¤šå¤æ‚
å¢å¹¿è·¯å¾„å°±æ˜¯ï¼šåœ¨å‰©ä½™å›¾ä¸­ï¼Œä»æºç‚¹Såˆ°æ±‡ç‚¹Tçš„ä¸€æ¡è·¯å¾„ï¼Œå¹¶ä¸”è¿™æ¡è·¯å¾„ä¸Šçš„æ¯æ¡è¾¹éƒ½æœ‰å‰©ä½™å®¹é‡ > 0ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ï¼Œèƒ½æ‰¾åˆ°ä¸€æ¡æ‰€æœ‰è·¯æ®µéƒ½è¿˜æœ‰ç©ºè½¦ä½çš„å®Œæ•´è·¯çº¿
åœ¨ç½‘ç»œæµä¸­ï¼Œcapacity è¡¨ç¤ºä¸€æ¡è¾¹èƒ½å¤Ÿæ‰¿è½½çš„æœ€å¤§æµé‡,ç½‘ç»œæµæ¨¡å‹é‡Œæˆ‘ä»¬è€ƒè™‘çš„æ˜¯ä»»æ„æ—¶åˆ»çš„ç¬æ—¶æµé‡ä¸èƒ½è¶…è¿‡å®¹é‡,ç½‘ç»œæµè¿™ä¸ªæ•°å­¦æ¨¡å‹é‡Œï¼Œæˆ‘ä»¬è¦æ±‚åŒä¸€æ—¶åˆ»ä¸èƒ½æœ‰
*/
    bfsFindPath(residualGraph, source, sink) {
        const parent = {};
        const visited = new Set();
        const queue = [source];
        visited.add(source);
        
        console.log(`BFSå¼€å§‹: ä» ${source} åˆ° ${sink}`);
        
        while (queue.length > 0) {
            const u = queue.shift();
            console.log(`å¤„ç†èŠ‚ç‚¹ ${u}`);
            
            if (!residualGraph[u]) {
                console.log(`èŠ‚ç‚¹ ${u} åœ¨å‰©ä½™å›¾ä¸­ä¸å­˜åœ¨`);
                continue;
            }
            
            for (const [v, capacity] of Object.entries(residualGraph[u])) {
                console.log(`  æ£€æŸ¥è¾¹ ${u}â†’${v}, å®¹é‡: ${capacity}, å·²è®¿é—®: ${visited.has(v)}`);
                
                if (!visited.has(v) && capacity > 0) {
                    parent[v] = u;
                    visited.add(v);
                    console.log(`    æ‰¾åˆ°å¯è¡Œè¾¹! parent[${v}] = ${u}`);
                    
                    if (v === sink) {
                        console.log(`åˆ°è¾¾æ±‡ç‚¹ ${sink}! è·¯å¾„æ‰¾åˆ°`);
                        return parent;
                    }
                    
                    queue.push(v);
                    console.log(`    å°† ${v} åŠ å…¥é˜Ÿåˆ—: [${queue.join(', ')}]`);
                }
            }
        }
        
        console.log("BFSç»“æŸï¼Œæœªæ‰¾åˆ°è·¯å¾„");
        return null;
    }
/*
ğŸ‘‰BFSçš„è®¿é—®æ ‡è®°æ˜¯åŸºäºèŠ‚ç‚¹ï¼Œä¸æ˜¯åŸºäºè¾¹
BFSçš„å·¥ä½œæ–¹å¼ï¼šBFSè¿½æ±‚æœ€çŸ­è·¯å¾„ï¼šä¸éœ€è¦èµ°å›å¤´è·¯
const visited = new Set([source]); // å¼€å§‹æ—¶å°±æ ‡è®°Så·²è®¿é—®
// å¤„ç†é˜Ÿåˆ—ï¼š
1. å¤„ç†S â†’ å‘ç°Sâ†’A, Sâ†’B â†’ æ ‡è®°A,Bå·²è®¿é—®
2. å¤„ç†A â†’ æ£€æŸ¥Aâ†’S: Så·²è®¿é—® â†’ è·³è¿‡
          â†’ æ£€æŸ¥Aâ†’T: Tæœªè®¿é—® â†’ ç»§ç»­
æ£€æŸ¥è¾¹ Aâ†’S, å®¹é‡: 0, å·²è®¿é—®: true
ğŸ‘‰æ¯æ¬¡BFSéƒ½æ˜¯å…¨æ–°çš„æœç´¢,æ¯æ¬¡BFSåˆ›å»ºæ–°çš„visitedé›†åˆæ‰€æœ‰èŠ‚ç‚¹éƒ½é‡æ–°æ ‡è®°ä¸º"æœªè®¿é—®"//æ¯æ¬¡BFSéƒ½åŸºäºæœ€æ–°çš„å‰©ä½™å›¾é‡æ–°æœç´¢
å‰©ä½™å›¾æ”¹å˜äº†ï¼šè¾¹çš„å®¹é‡æ›´æ–°äº†;è·¯å¾„å¯èƒ½ä¸åŒï¼šä¸Šæ¬¡ä¸èƒ½èµ°çš„è·¯å¾„ç°åœ¨å¯èƒ½èƒ½èµ°;éœ€è¦é‡æ–°æ¢ç´¢ï¼šç®—æ³•è¦æ‰¾çš„æ˜¯å½“å‰å‰©ä½™å›¾ä¸­çš„æ–°è·¯å¾„
*/
}

//å®Œæ•´æµ‹è¯•
console.log("=== å®Œæ•´æµ‹è¯• ===");

// æµ‹è¯•1ï¼šç®€å•ç›´çº¿
const network1 = new FlowNetwork();
network1.addEdge('S', 'A', 5);
network1.addEdge('A', 'T', 3);
console.log('âœ…æµ‹è¯•1ç»“æœ:', network1.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º3
//ç½‘ç»œå¤ªç®€å•ï¼Œæ²¡æœ‰éœ€è¦"ç»•è·¯"çš„åœºæ™¯,åå‘è¾¹åœ¨æ›´å¤æ‚çš„ç½‘ç»œä¸­æ‰ä¼šå‘æŒ¥ä½œç”¨,åœ¨Sâ†’Aâ†’Tç½‘ç»œä¸­ï¼Œä¸€æ—¦Aâ†’Tæ»¡äº†ï¼Œå°±æ²¡æœ‰å…¶ä»–è·¯å¾„äº†
// æµ‹è¯•2ï¼šå¹¶è¡Œè·¯å¾„
const network2 = new FlowNetwork();
network2.addEdge('S', 'T', 2);
network2.addEdge('S', 'A', 3);
network2.addEdge('A', 'T', 4);
console.log('âœ…æµ‹è¯•2ç»“æœ:', network2.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º5

// æµ‹è¯•3ï¼šç®€å•ç½‘ç»œ
const network3 = new FlowNetwork();
network3.addEdge('S', 'A', 10);
network3.addEdge('S', 'B', 10);
network3.addEdge('A', 'T', 4);
network3.addEdge('B', 'T', 9);
network3.addEdge('A', 'B', 10);
network3.addEdge('B', 'A', 10);
console.log('âœ…æµ‹è¯•3ç»“æœ:', network3.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º13

//ğŸ‘‰å¿…é¡»ç”¨åå‘è¾¹çš„ç½‘ç»œ
//è¿™ä¸ªç½‘ç»œä¸ç”¨åå‘è¾¹å°±æ‰¾ä¸åˆ°æœ€å¤§æµï¼
const networkCritical = new FlowNetwork();
networkCritical.addEdge('S', 'A', 10);
networkCritical.addEdge('S', 'B', 10);
networkCritical.addEdge('A', 'C', 15);
networkCritical.addEdge('B', 'C', 10); 
networkCritical.addEdge('C', 'T', 15);
console.log('ğŸ‘‰å…³é”®æµ‹è¯•ç»“æœ:', networkCritical.fordFulkerson('S', 'T'));

//ğŸ‘‰ç»å…¸çš„åå‘è¾¹æ¼”ç¤ºç½‘ç»œ
const networkClassic = new FlowNetwork();
networkClassic.addEdge('S', 'A', 10);
networkClassic.addEdge('S', 'B', 10);
networkClassic.addEdge('A', 'B', 5);   // å…³é”®è¾¹ï¼
networkClassic.addEdge('A', 'T', 5);
networkClassic.addEdge('B', 'T', 15);
console.log('ğŸ‘‰ç»å…¸æµ‹è¯•ç»“æœ:', networkClassic.fordFulkerson('S', 'T'));
/* æ™ºèƒ½é‡åˆ†é…
å†³ç­–1ï¼šSâ†’Aâ†’T (æµé‡5)
å†³ç­–2ï¼šSâ†’Aâ†’Bâ†’T (æµé‡5) â† åˆ©ç”¨åå‘è¾¹è°ƒæ•´
ç»“æœï¼šSâ†’Açš„10å®¹é‡å…¨éƒ¨åˆ©ç”¨ï¼
å‡ºå£æ€»å®¹é‡ = 20,å…³é”®åœ¨äº Aâ†’B è¿™æ¡è¾¹å…è®¸æµé‡é‡åˆ†é…
è·¯å¾„1: S â†’ A â†’ T (æµé‡5)     // Aâ†’Tç”¨æ»¡
è·¯å¾„2: S â†’ B â†’ T (æµé‡10)    // Bâ†’Tç”¨10
è·¯å¾„3: S â†’ A â†’ B â†’ T (æµé‡5) // AæŠŠå¤šä½™çš„5è½¬ç»™B
éªŒè¯ï¼š
AèŠ‚ç‚¹ï¼šæµå…¥10(Sâ†’A)ï¼Œæµå‡º5(Aâ†’T) + 5(Aâ†’B) = 10 âœ“
BèŠ‚ç‚¹ï¼šæµå…¥10(Sâ†’B) + 5(Aâ†’B)ï¼Œæµå‡º15(Bâ†’T) = 15 âœ“  
TèŠ‚ç‚¹ï¼šæµå…¥5(Aâ†’T) + 15(Bâ†’T) = 20 âœ“
æœ€å¤§æµå›ç­”èƒ½åšåˆ°å¤šå¥½;æœ€å°å‰²å›ç­”ä¸ºä»€ä¹ˆä¸èƒ½æ›´å¥½;å®šç†ä¿è¯è¿™ä¸¤ä¸ªç­”æ¡ˆä¸€è‡´
æœ€å¤§æµ20ï¼šç³»ç»Ÿçš„æ€§èƒ½ä¸Šé™;æœ€å°å‰²20ï¼šç³»ç»Ÿçš„ç“¶é¢ˆæ‰€åœ¨;ç³»ç»Ÿçš„æœ€å¤§èƒ½åŠ› = ç³»ç»Ÿçš„æœ€å¼±ç¯èŠ‚
*/

console.log("=== åŸºç¡€æµ‹è¯•å®Œæˆ ===");

//æµ‹è¯•4ï¼šå•è¾¹ç½‘ç»œ
const test1 = new FlowNetwork();
test1.addEdge('S', 'T', 5);
console.log('âœ…å•è¾¹ç½‘ç»œ:', test1.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º5

//æµ‹è¯•5ï¼šæ— è·¯å¾„ç½‘ç»œ
const test2 = new FlowNetwork();
test2.addEdge('S', 'A', 10);
test2.addEdge('B', 'T', 10);
// Aå’ŒBä¹‹é—´æ²¡æœ‰è¿æ¥ï¼
console.log('âœ…æ— è·¯å¾„ç½‘ç»œ:', test2.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º0

//æµ‹è¯•6ï¼šé›¶å®¹é‡è¾¹
const test3 = new FlowNetwork();
test3.addEdge('S', 'A', 0);
test3.addEdge('A', 'T', 10);
console.log('âœ…é›¶å®¹é‡è¾¹:', test3.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º0
//æµ‹è¯•7ï¼šå¤šè·¯å¾„äº¤å‰
const test4 = new FlowNetwork();
//æµ‹è¯•8:å±‚çŠ¶ç½‘ç»œ
test4.addEdge('S', 'A', 10);
test4.addEdge('S', 'B', 5);
test4.addEdge('A', 'C', 8);
test4.addEdge('A', 'D', 3);
test4.addEdge('B', 'C', 4);
test4.addEdge('B', 'D', 7);
test4.addEdge('C', 'T', 6);
test4.addEdge('D', 'T', 9);
console.log('âœ…å¤šè·¯å¾„äº¤å‰:', test4.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º14

//æµ‹è¯•9ï¼šç“¶é¢ˆåœ¨ä¸­é—´
const test5 = new FlowNetwork();
test5.addEdge('S', 'A', 100);
test5.addEdge('S', 'B', 100);
test5.addEdge('A', 'C', 1);  // ç“¶é¢ˆï¼
test5.addEdge('B', 'C', 1);  // ç“¶é¢ˆï¼
test5.addEdge('C', 'T', 100);
console.log('âœ…ä¸­é—´ç“¶é¢ˆ:', test5.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º2

//æµ‹è¯•10ï¼šåå‘è¾¹å…³é”®è·¯å¾„
const test6 = new FlowNetwork();
test6.addEdge('S', 'A', 10);
test6.addEdge('S', 'B', 10);
test6.addEdge('A', 'C', 15);
test6.addEdge('B', 'C', 5);
test6.addEdge('C', 'T', 15);
console.log('âœ…åå‘è¾¹æµ‹è¯•:', test6.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º15

//æµ‹è¯•11ï¼šé‡å¤è¾¹
const test7 = new FlowNetwork();
test7.addEdge('S', 'A', 5);
test7.addEdge('S', 'A', 10); // é‡å¤è¾¹ï¼Œåº”è¯¥è¦†ç›–å‰å€¼
test7.addEdge('A', 'T', 8);
console.log('âœ…é‡å¤è¾¹å¤„ç†:', test7.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º8


//æµ‹è¯•12ï¼šè‡ªç¯è¾¹
const test8 = new FlowNetwork();
test8.addEdge('S', 'A', 10);
test8.addEdge('A', 'A', 5); // è‡ªç¯ï¼Œåº”è¯¥è¢«BFSå¿½ç•¥
test8.addEdge('A', 'T', 10);
console.log('âœ…è‡ªç¯è¾¹:', test8.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º10


//æµ‹è¯•13ï¼šå­¤ç«‹èŠ‚ç‚¹
const test9 = new FlowNetwork();
test9.addEdge('S', 'A', 10);
test9.addEdge('A', 'T', 10);
test9.addEdge('X', 'Y', 10); // å­¤ç«‹éƒ¨åˆ†ï¼Œä¸STä¸è¿é€š
console.log('âœ…å­¤ç«‹èŠ‚ç‚¹:', test9.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º10

//æµ‹è¯•14ï¼šå¤§è§„æ¨¡ç®€å•ç½‘ç»œ
const test10 = new FlowNetwork();
// åˆ›å»º10ä¸ªèŠ‚ç‚¹çš„é“¾å¼ç½‘ç»œ
for (let i = 0; i < 9; i++) {
    test10.addEdge(i === 0 ? 'S' : `N${i}`, i === 8 ? 'T' : `N${i+1}`, 5);
}
console.log('âœ…é“¾å¼ç½‘ç»œ:', test10.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º5

//æµ‹è¯•15ï¼šå®Œå…¨äºŒåˆ†å›¾
const test11 = new FlowNetwork();
// Sè¿æ¥æ‰€æœ‰å·¦èŠ‚ç‚¹ï¼Œæ‰€æœ‰å³èŠ‚ç‚¹è¿æ¥Tï¼Œå·¦å³å®Œå…¨è¿æ¥
const leftNodes = ['L1', 'L2', 'L3'];
const rightNodes = ['R1', 'R2', 'R3'];

leftNodes.forEach(l => {
    test11.addEdge('S', l, 10);
    rightNodes.forEach(r => {
        test11.addEdge(l, r, 5);
    });
});

rightNodes.forEach(r => {
    test11.addEdge(r, 'T', 10);
});

console.log('âœ…äºŒåˆ†å›¾:', test11.fordFulkerson('S', 'T')); // åº”è¯¥è¾“å‡º30

console.log("==å¥å£®æ€§æµ‹è¯•===")

console.log("âœ… è¾¹ç•Œæƒ…å†µï¼ˆç©ºå›¾ã€å•è¾¹ã€é›¶å®¹é‡ï¼‰");
console.log("âœ… æ‹“æ‰‘å¤æ‚æ€§ï¼ˆå¤šè·¯å¾„ã€ç“¶é¢ˆã€åå‘è¾¹ï¼‰");
console.log("âœ… å¼‚å¸¸å¤„ç†ï¼ˆé‡å¤è¾¹ã€è‡ªç¯ã€å­¤ç«‹èŠ‚ç‚¹ï¼‰");
console.log("âœ… æ‰©å±•æ€§ï¼ˆå¤§è§„æ¨¡ç½‘ç»œï¼‰");
console.log("ğŸ’«ç®—æ³•æµ‹è¯•å¥å£®æ€§é€šè¿‡");
```